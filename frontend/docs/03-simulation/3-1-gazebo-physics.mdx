---
id: lesson-3-1-gazebo-physics
title: Gazebo Simulation - Physics, Gravity, and Collision Modeling
sidebar_label: Gazebo Physics
chapter_id: 03
page_number: 12
slug: /03-simulation/3-1-gazebo-physics
---

# Lesson 3.1: Gazebo Simulation: Physics, Gravity, and Collision Modeling

The real world is messy, slow, and expensive. This lesson introduces **Digital Twins** and the primary tool used to create them: the **Gazebo physics simulator**.

---

## Introduction & Hook

Imagine training for a high-wire act—you wouldn't practice without a net!  

In robotics, the **Digital Twin** is that safety net: a complete **digital copy** of the robot and environment where the AI can practice millions of risky moves without hardware damage.  

**Gazebo** is widely used in ROS 2 to simulate **real-world physics** including gravity, friction, and inertia in real-time.

---

## Gazebo: The Robot Physics Engine

- Gazebo combines **URDF/SDF robot definitions** (Lesson 2.3) with a **physics engine** (ODE, Bullet, DART).  
- Unlike a video game, Gazebo prioritizes **physical fidelity**, ensuring control systems tested in simulation work on real robots.  
- A **Gazebo world** is defined by a `.world` file using **SDF**, specifying:
  - Gravity direction and magnitude  
  - Physics engine parameters  
  - Environmental features (lights, ground planes, obstacles)  
  - Robot models (loaded from URDF/SDF)  

---

## Core Physics Concepts in Simulation

### 1. Gravity (g)

- Gravity pulls mass toward the ground.  
- Standard simulation gravity (along `z`-axis):

g = (0.0, 0.0, -9.81) m/s²


- Accurate gravity ensures the **robot's Center of Mass (CoM)** and balance controllers are realistic.

### 2. Collision Models

- **Visual Mesh**: high-detail model used for rendering.  
- **Collision Mesh**: simplified geometry (boxes, spheres, cylinders) used by the physics engine.  

**Purpose:** Fast collision checks for **hard real-time simulation**.  

### 3. Friction ($\mu$)

- Friction opposes motion between two surfaces.  

| Type | Description |
| :--- | :--- |
| **Static Friction (μₛ)**  | Resists the start of motion; prevents foot slip when pushing off. |
| **Kinetic Friction (μₖ)** | Resists motion after sliding has started. |

- Adjusting $\mu$ simulates different surfaces: ice (low), rubber on concrete (high).

---

## Code Example: Conceptual SDF World Snippet

```xml
<?xml version="1.0" ?>
<sdf version="1.6">
  <world name="default">

    <!-- Gravity -->
    <gravity>0 0 -9.81</gravity>

    <!-- Physics engine -->
    <physics type="ode">
      <max_step_size>0.001</max_step_size>
    </physics>

    <!-- Ground plane -->
    <model name="ground_plane">
      <static>true</static>
      <link name="link">
        <collision name="collision">
          <geometry><plane><normal>0 0 1</normal><size>100 100</size></plane></geometry>
        </collision>
        <visual name="visual">
          <geometry><plane><normal>0 0 1</normal><size>100 100</size></plane></geometry>
        </visual>
      </link>
    </model>

  </world>
</sdf>
````

---

## Brainstorming Challenge: Collision Speed

An engineer sets the robot's foot to use a **high-polygon Visual Mesh** for collisions.

1. What problem will this cause in Gazebo simulation?
2. Why are simple shapes (boxes, spheres) a trade-off between **accuracy** and **real-time performance**?

---

## Key Concepts in Action

| Concept                             | Function                              | Simulation Element                          |
| :---------------------------------- | :------------------------------------ | :------------------------------------------ |
| **Digital Twin**                    | Virtual copy of robot and environment | Safe, low-cost testing of AI/control loops  |
| **Gazebo**                          | Physics-based simulator               | Uses ODE/Bullet engines to calculate forces |
| **Collision Mesh**                  | Simplified geometry for physics       | Ensures high-speed, low-latency simulation  |
| **Coefficient of Friction ($\mu$)** | Defines surface slipperiness          | Simulates ice, concrete, or carpet          |

---

## Self-Test Q&A

**Q1:** Purpose of a physics engine like Gazebo in humanoid robotics?
**A1:** To **simulate real-world physics** (gravity, friction, inertia) for testing control algorithms.

**Q2:** Standard gravitational acceleration along $z$-axis in simulations?
**A2:** **−9.81 m/s2**.

**Q3:** Trade-off of using low-polygon **Collision Mesh** instead of detailed **Visual Mesh**?
**A3:** **Faster computation** at the cost of visual accuracy.

**Q4:** Friction type resisting start of motion?
**A4:** ****Static Friction (μₛ)** **.

**Q5:** File format defining gravity, lights, and environment in Gazebo?
**A5:** **SDF** (`.world` file).
